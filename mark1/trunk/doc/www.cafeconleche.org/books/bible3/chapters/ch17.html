<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>XLinks</title></head><body text="#000000" link="#0000ff" vlink="#800080"><div style="text-align: center">                [ <a href="../../../index.html">Cafe con Leche</a>          | <a href="../index.html">XML Bible Home Page</a>       | Order  from  <a href="http://www.amazon.com/exec/obidos/ASIN/0764549863/ref=nosim/cafeaulaitA/">amazon.com</a>  |  <a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-0764549863.html">Publisher Page</a> ]         </div><hr /><b><p>In This Chapter</p></b><ul>	<li><p>XLinks versus HTML Links</p></li>	<li><p>Linking elements</p></li>	<li><p>Descriptions of the remote resource</p></li>	<li><p>Link behavior</p></li>	<li><p>Extended links</p></li>	<li><p>Extended link syntax</p></li>	<li><p>Arcs</p></li>	<li><p>Out-of-line links</p></li>	<li><p>XML Base</p></li></ul><h1>XLinks</h1><p>Hypertext in XML is divided into multiple parts: XLink, XML Base, XPointer, and XInclude. XLink, the XML Linking Language, defines how one document links to another document. XML Base defines how the base URL of a document (against which relative URLs are resolved) is set. XPointer, the XML Pointer Language, defines how individual parts of a document are addressed. XInclude defines how one document can be built out of different pieces of other documents.</p><p>An XLink points to a URI (in practice, a URL) that specifies a particular resource. If this URI is relative, the base URI can be established by an <code>xml:base</code> attribute. Relative or not, this URI may have a fragment identifier that more specifically identifies the desired part of the targeted document. When the URI points to an XML document, the fragment identifier is an XPointer. This chapter explores XLink and XML Base. The next two chapters explore XPointer and XInclude.</p><h2>XLinks versus HTML Links</h2></font><p>The Web conquered the more established Ggopher protocol for one main reason: HTML made it possible to embed hypertext links in documents. These links could insert images or let the user jump from inside one document to another document or another part of the same document. To the extent that XML is rendered into HTML for viewing, the same syntax that HTML uses for linking can be used in XML documents. Alternate syntaxes can be converted into HTML syntax using XSLT.</p><dir><b><font face="Arial" size=1 color="#000080"><p>Cross-Reference</p></b></font><p>XSLT, including several examples of converting XML markup to HTML links, is discussed in Chapter 15.</p></dir></font><p>However, HTML linking has limits. For one thing, URLs are limited to pointing at a single document. More granularity than that, such as linking to the third sentence of the seventeenth paragraph in a document, requires you to manually insert named anchors in the targeted document. It can&#146;t be done without write access to the document to which you&#146;re linking.</p><p>Furthermore, HTML links don&#146;t maintain any sense of history or relations between documents. Although browsers may track the path you&#146;ve followed through a series of documents, such tracking isn&#146;t very reliable. From inside the HTML, there&#146;s no way to know from where a reader came. Links are purely one-way. The linking document knows to whom it&#146;s linking, but the linked document does not know who&#146;s linking to it.</p><p>XLink supports more powerful links between documents designed especially for use with XML. XLink achieves everything possible with HTML&#146;s URL-based hyperlinks and anchors. Beyond this, however, it supports multidirectional links (where the links run in more than one direction). Any element can become a link, not just the <code>A</code> element. Links do not even have to be stored in the same file as the documents they connect. These features make XLinks more suitable not only for new uses, but for things that can be done only with considerable effort in HTML, such as cross-references, footnotes, end notes, and more.</p><dir><b><font face="Arial" size=1 color="#000080"><p>Caution</p></b></font><p>Only Mozilla and its derivatives (Netscape 6, Netscape 7, Galeon, Camino, Firebird, and so on) have any support for XLinks, and that support is incomplete. Internet Explorer 6.0, Opera 7.0, and Safari 1.0 and earlier have absolutely no support for any kind of XLink. There are no general-purpose applications that support arbitrary XLinks. That&#146;s because XLinks have a much broader base of applicability than HTML links. XLinks are not just used for hypertext connections and embedding images in documents. They can be used by any custom application that needs to establish connections between documents and parts of documents, for any reason. Even when XLinks are fully implemented in browsers, they may not always be blue underlined text that you click to jump to another page. They can be that, but they can also be both more and less, depending on your needs.</p></dir><h2>Linking Elements</h2><p>In HTML, a link is defined with the <code>&lt;A&gt;</code> tag. However, just as XML is more flexible with elements, it is more flexible with links. In XML, any element can be a link or part of a link. XLink elements are identified by an <code>xlink:type</code> attribute with one of these seven values:</p><ul>	<li><code><p>simple</code></p></li>	<li><p>extended</p></li>	<li><p>locator</p></li>	<li><p>arc</p></li>	<li><p>resource</p></li>	<li><p>title</p></li>	<li><p>none</p></li></ul><p>The <code>xlink</code> prefix must be bound to the <code>http://www.w3.org/1999/xlink</code> namespace URI. As usual, the prefix can change as long as the URI remains the same. The <code>xlink</code> prefix is customary, and should be used unless you&#146;ve got a really good reason to change it. In this chapter, I assume that the prefix <code>xlink</code> has been bound to the <code>http://www.w3.org/1999/xlink</code> URI.</p><p>XLinks elements whose <code>xlink:type</code> attribute has the value <code>simple</code> or <code>extended</code> are called <i>linking elements</i>. For example, these are three linking elements:</p><pre>&lt;COMPOSER xmlns:xlink="http://www.w3.org/1999/xlink"          xlink:type="simple"          xlink:href="http://users.rcn.com/beand/"&gt;    Beth Anderson&lt;/COMPOSER&gt;&lt;FOOTNOTE xmlns:xlink="http://www.w3.org/1999/xlink"          xlink:type="simple"          xlink:href="footnote7.xml"&gt;7&lt;/FOOTNOTE&gt;&lt;IMAGE xmlns:xlink="http://www.w3.org/1999/xlink"       xlink:type="simple" xlink:href="logo.gif"       xlink:actuate="onLoad" xlink:show="embed"/&gt;</pre><p>Notice that the elements have semantic names that describe the content they contain rather than how the elements behave. The information that these elements are links is included in the attributes, not the element names. Attributes define the linking behavior.</p><p>These three examples are simple XLinks. Simple XLinks are similar to standard HTML links, and are the only kind of link supported by today&#146;s web browsers, so I&#146;ll begin with them. Later, I talk about the more complex (and more powerful) extended links.</p><p>In the preceding <code>COMPOSER</code> example, the <code>xlink:href</code> attribute defines the target of the link. The value of this attribute is the absolute URL <code>http://users.rcn.com/beand/</code>. This linking element describes a connection from the <code>COMPOSER</code> element in the current document with the content ""Beth Anderson"" to the remote document at <code>http://users.rcn.com/beand/</code>. If you were to include this element in an XML document and load that document into an XLink-aware web browser, such as Mozilla or Netscape 6, the user could click on it to jump to the page <code>http://users.rcn.com/beand/</code>.</p><p>The browser does not necessarily indicate this to the user by underlining it and coloring it blue, however. Visual formatting is still the province of a style sheet. Web documents that use XLinks will normally need CSS rules that use the <code>:link</code> and <code>:visited</code> pseudo-classes to specify how links are formatted. For example, these two rules attempt to duplicate traditional link formatting:.</p><pre>*:link {color: blue; text-decoration: underline}*:visited {color: purple; text-decoration: underline}</pre><p>You&#146;re, of course, free to choose other styles, though doing so might cause readers to miss your links. It&#146;s best not to change the link colors.</p><p>You can also interpret this simple link more abstractly, as simply defining a one-way connection from one resource, the <code>COMPOSER</code> element, to another resource, the web page at <code>http://users.rcn.com/beand/</code>. Figure 17-1 diagrams this connection. This connection does not really imply any particular semantics or behavior. It&#146;s up to the application reading the document to decide what this abstract link means to it.</p><p><img src="Image18.jpg" width=288 height=50></p><p>Figure 17-1: A link from the COMPOSER element to http://users.rcn.com/beand/</p><p>In the <code>FOOTNOTE</code> example, the link target attribute&#146;s name is <code>xlink:href</code>. Its value is the relative URL <code>footnote7.xml</code>. This describes a connection from the <code>FOOTNOTE</code> element in the current document with the content ""7"" to the document named footnote7.xml on the same server in the same directory as the document in which this link appears.</p><p>In the third example above, the value of the <code>xlink:href</code> attribute is the relative URL <code>logo.gif</code>. The scheme, host, and directory of the document are copied from the scheme, host, and directory of the document in which the link appears. However, this element requests slightly different behavior. Instead of waiting for the user to activate the link, the <code>xlink:actuate</code> attribute asks that the link be activated automatically as soon as the document is loaded. The <code>xlink:show</code> attribute requests that the result be embedded in the current document instead of replacing the current document.</p><h2>Declaring XLink Attributes in Document Type Definitions</h2></font><p>If the document has a document type definition (DTD), these attributes should be declared like any other. For example, declarations of the <code>FOOTNOTE</code>, <code>COMPOSER</code>, and <code>IMAGE</code> elements might look like this:</p><pre>&lt;!ELEMENT FOOTNOTE (#PCDATA)&gt;&lt;!ATTLIST FOOTNOTE    xmlns:xlink CDATA  #FIXED "http://www.w3.org/1999/xlink"    xlink:type  CDATA  #FIXED "simple"    xlink:href  CDATA  #REQUIRED&gt;&lt;!ELEMENT COMPOSER (#PCDATA)&gt;&lt;!ATTLIST COMPOSER    xmlns:xlink CDATA  #FIXED "http://www.w3.org/1999/xlink"    xlink:type  CDATA  #FIXED "simple"    xlink:href  CDATA  #REQUIRED&gt;&lt;!ELEMENT IMAGE EMPTY&gt;&lt;!ATTLIST IMAGE    xmlns:xlink   CDATA  #FIXED "http://www.w3.org/1999/xlink"    xlink:type    CDATA  #FIXED "simple"    xlink:href    CDATA  #REQUIRED    xlink:show    CDATA  #FIXED "onLoad"    xlink:actuate CDATA  #FIXED "embed"&gt;</pre><p>With these declarations, the <code>xlink:type</code>, <code>xmlns:xlink</code>, <code>xlink:show</code>, and <code>xlink:actuate</code> attributes have fixed values. Therefore, they do not need to be included in the instances of the elements, which you may now write more compactly, like this:</p><pre>&lt;FOOTNOTE xlink:href="footnote7.xml"&gt;7&lt;/FOOTNOTE&gt;&lt;COMPOSER xlink:href="http://users.rcn.com/beand/"&gt;  Beth Anderson&lt;/COMPOSER&gt;&lt;IMAGE xlink:href="logo.gif"/&gt;</pre><p>Making an element a link doesn&#146;t impose any restriction on other attributes or contents of the element. An XLink element may contain arbitrary children or other attributes. For example, a more realistic <code>IMAGE</code> element would look like this:</p><pre>&lt;IMAGE ALT="Cafe con Leche Logo of a coffee cup"       WIDTH="89" HEIGHT="67"       xmlns:xlink="http://www.w3.org/1999/xlink"       xlink:type="simple" xlink:href="logo.gif"       xlink:actuate="onLoad" xlink:show="embed"/&gt;</pre><p>Half of the attributes don&#146;t have anything to do with linking. The declaration in the DTD would then look like this:</p><pre>&lt;!ELEMENT IMAGE EMPTY&gt;&lt;!ATTLIST IMAGE    xmlns:xlink   CDATA  #FIXED "http://www.w3.org/1999/xlink"    xlink:type    CDATA  #FIXED "simple"    xlink:href    CDATA  #REQUIRED    xlink:show    CDATA  #FIXED "onLoad"    xlink:actuate CDATA  #FIXED "embed"    ALT           CDATA  #REQUIRED    ALIGN         CDATA  #IMPLIED    HEIGHT        CDATA  #REQUIRED    WIDTH         CDATA  #REQUIRED&gt;</pre><p>In fact, a linking element might even have children that are themselves linking elements! That is, a linking element may contain another linking element or elements. This doesn&#146;t have any special meaning. As far as links go, each linking element is treated in isolation.</p><h2>Descriptions of the Remote Resource</h2></font><p>A linking element can have optional <code>xlink:role</code> and <code>xlink:title</code> attributes that describe the remote resource; that is, the document or other resource to which the link points. The title contains plain text that describes the resource. The role contains an absolute URI pointing to a document that more fully describes the resource. For example, the title might describe what a page does, and the role might point to a help page for the page:</p><pre>&lt;SEARCH xlink:type="simple"        xlink:href="http://www.google.com/advanced_search"        xlink:title="Search with Google"        xlink:role="http://www.google.com/help.html"&gt;   Search the Web with Google&lt;/SEARCH&gt;</pre><p>Both the role and title describe the remote resource, not the local element. The remote resource in the preceding example is the document at <code>http://www.google.com/advanced_search</code>. It&#146;s not uncommon, though it&#146;s not required, for the valuer of the <code>xlink:title</code> attribute to be the same as the contents of the <code>TITLE</code> element of the page to which you are linking.</p><p>Another possibility is to have the role point to some form of identifier URL for the format of the data found at the <code>xlink:href</code>. This may be a MIME media type, a namespace URI, or the location of a prose specification, DTD, schema, or style sheet. For example, to indicate that the search page is written in HTML you might set the role to the URL of the HTML 4.0 specification:</p><pre>&lt;SEARCH xlink:type="simple"        xlink:href="http://www.google.com/advanced_search"        xlink:title="Search with Google"        xlink:role="http://www.w3.org/TR/html4/"&gt;   Search the Web with Google&lt;/SEARCH&gt;</pre><p>Alternately, you could use the URL for the HTML MIME media type, <code>http://www.isi.edu/in-notes/iana/assignments/media-types/text/html</code>, the URL for the XHTML namespace, <code>http://www.w3.org/1999/xhtml</code>, or the URL for the HTML 3.2 DTD, <code>http://www.w3.org/TR/REC-html32#dtd</code>. You could even use a mailto URL giving the e-mail address of the person who wrote the page. Other values are possible. XLink does not define any rules for how applications should interpret the value of an <code>xlink:role</code>, beyond simply stating that it must be an absolute URI.</p><p>XLink does not define the user interface by which link roles and titles are presented to users. For example, Mozilla shows the user the title of the link in a Ttool Ttip when the cursor is hovering over the link, and does nothing with the role. A different application might choose to put the title in the status bar of the browser window, or do both, or neither. How or whether any particular application makes use of the role and title is completely up to it.</p><p>As with all other attributes, the <code>xlink:title</code> and <code>xlink:role</code> attributes should be declared in the DTD for all the elements to which they belong. For example, this is a reasonable declaration for the preceding <code>SEARCH</code> element:</p><pre>&lt;!ELEMENT SEARCH (#PCDATA)&gt;&lt;!ATTLIST SEARCH    xmlns:xlink CDATA  #FIXED "http://www.w3.org/1999/xlink"    xlink:type  CDATA  #FIXED "simple"    xlink:href  CDATA  #REQUIRED    xlink:title CDATA  #IMPLIED    xlink:role  CDATA  #IMPLIED&gt;</pre><h2>Link Behavior</h2></font><p>Linking elements can contain two more optional attributes that suggest to applications how the link behaves when activated. These are as follows:</p><ul><code><li>xlink:show</li><li>xlink:actuate</li></code></ul></font><p>The <code>xlink:show</code> attribute suggests <i>how</i> the content should be displayed when the link is activated;, for example, by opening a new window to hold the remote resource or by loading the remote resource into the current window. The <code>xlink:actuate</code> attribute suggests <i>when</i> the link should be activated; for instance, as soon as the document is loaded, or only after a specific user request. Behavior is application- dependent, however, and applications are free to ignore the suggestions.</p><b><i><font face="Helvetica"><p>The xlink:show attribute</p></b></i></font><p>The <code>xlink:show</code> attribute has five possible values:</p><ul><li>replace</li><li>new</li><li>embed</li><li>other</li><li>none</li></code></ul></font><p>If the value of <code>xlink:show</code> is <code>replace</code>, then when the link is activated (generally by clicking on it, at least in GUI browsers), the target of the link replaces the current document in the same window. This is the default behavior of HTML links, as in this example:</p><pre>&lt;COMPOSER xlink:type="simple"          xlink:show="replace"          xlink:href="http://users.rcn.com/beand/"&gt;    Beth Anderson&lt;/COMPOSER&gt;</pre><p>If the value of <code>xlink:show</code> is <code>new</code>, activating the link opens a new window in which the targeted resource is displayed. This is similar to the behavior of HTML links when the <code>target</code> attribute is set to <code>_blank</code>, as in the following example:</p><pre>&lt;WEBSITE xlink:type="simple"         xlink:show="new"         xlink:href="http://www.quackwatch.com/"&gt;  Check this out, but don't leave our site completely!&lt;/WEBSITE&gt;</pre><p>If the value of <code>xlink:show</code> is <code>embed</code>, activating the link inserts the targeted resource into the existing document. Exactly what this means is application- dependent. Mostly, it implies that the application should somehow render the linked content and display it as part of the finished document. This is how the <code>IMG</code>, <code>APPLET</code>, and <code>OBJECT</code> elements behave in HTML. For example, an element like this one might be used to indicate that a JPEG image should be embedded in the document:</p><pre>&lt;PHOTO xlink:type="simple"       xlink:href="images/nypride.jpg"       xlink:show="embed"       ALT="Marchers on 5th Avenue, June 2004"/&gt;</pre><p>If the value of <code>xlink:show</code> is <code>other</code>, the application is supposed to look for other markup in the document that explains what to do. Generally, this would be used when a particular XML application used different, non-XLink elements or attributes to describe the link behavior. For example, many web pages have a <code>LINK</code> element in their header that references a style sheet and looks similar to this:</p><pre>&lt;LINK REL="stylesheet" TYPE="text/css"      HREF="http://www.w3.org/StyleSheets/TR/W3C-WD.css" /&gt;</pre><p>This is a link, but what&#146;s at the end of the link does not replace the existing document; it does not embed itself into the existing document; it is not displayed in a new window. In XML documents, you might agree that this behavior was implied whenever a <code>STYLESHEET</code> element was encountered. Because this is not one of the three predetermined link behaviors, you&#146;d set <code>xlink:show</code> to <code>other</code>.</p><pre>&lt;STYLESHEET xlink:show="other"        xlink:href="http://www.w3.org/StyleSheets/TR/W3C-WD.css" /&gt;</pre><p>Finally, you can set <code>xlink:show</code> to <code>none</code> to indicate that the document contains no information to help the application decide what, if anything, to do with the link. It&#146;s completely up to the application reading the document to make its own choices.</p><p>Regardless of what behavior <code>xlink:show</code> suggests, the browser or other application reading the document is free to do whatever it wants when the link is activated, including nothing at all. For example, a browser with ""Automatically load images"" turned off might well choose to ignore <code>xlink:show="embed"</code>.</p><p>Like all attributes in valid documents, the <code>xlink:show</code> attribute must be declared in a <code>&lt;!ATTLIST&gt;</code> declaration for the linking element, as in the following example:</p><pre>&lt;!ELEMENT WEBSITE (#PCDATA)&gt;&lt;!ATTLIST WEBSITE    xmlns:xlink CDATA  #FIXED "http://www.w3.org/1999/xlink"    xlink:type  CDATA  #FIXED "simple"    xlink:href  CDATA  #REQUIRED    xlink:show (new | replace | embed) #IMPLIED "replace"&gt;</pre><p>This particular DTD fragment doesn&#146;t allow the <code>xlink:show</code> attribute to have the value <code>other</code> or <code>none</code>. That&#146;s OK, too. Not all linking elements necessarily support all possible values of <code>xlink:show</code>.</p><b><i><font face="Helvetica"><p>The xlink:actuate attribute</p></b></i></font><p>A linking element's <code>xlink:actuate</code> attribute has four possible values:</p><ul><li>onRequest</li><li>onLoad</li><li>other</li><li>none</li></code></ul></font><p>The value <code>onRequest</code> specifies that the link should be traversed only when and if the user requests it. This is the behavior of a normal HTML link. For example, this link jumps to the Powell&#146;s bookstore@@@AU: Just Powell&#146;s bookstore? no "the"@@@ when the user specifically requests that action:</p><pre>&lt;PURCHASE xlink:type="simple" xlink:actuate="onRequest"          xlink:href="http://www.powells.com/"&gt;  Buy from Powell's&lt;/PURCHASE&gt;</pre><p>On the other hand, if the linking element&#146;s <code>xlink:actuate</code> attribute is set to <code>onLoad</code>, the link is traversed as soon as the document containing the link is loaded. For example, you might set the actuate attribute to <code>onLoad</code> for an image or other piece of external content that&#146;s to be embedded in the linking document. This way, the user doesn&#146;t have to click the link to follow it. The code might look like this:</p><pre>&lt;IMAGE xlink:type="simple" xlink:href="logo.gif"       xlink:actuate="onLoad" xlink:show="embed"/&gt;</pre><p>If the linking element&#146;s <code>xlink:actuate</code> attribute value is <code>other</code>, the application should look at other markup, not defined by XLink, to decide when to traverse the link. For instance, a browser might define a <code>PRELOAD</code> element as indicating that a document or image is not used on this page, but will likely soon be used. For example,</p><pre>&lt;PRELOAD xlink:type="simple"   xlink:href="logo.gif"         xlink:actuate="other" xlink:show="none"/&gt;</pre><p>Therefore, if the browser has extra bandwidth available while the user is reading the page, it should load the document and cache it. Otherwise, it waits until the user actually actuates the link. Applications that don&#146;t recognize the <code>PRELOAD</code> element would simply ignore it. (I should warn you that this is a purely hypothetical example that is not yet and probably never will be implemented by any actual browser.)</p><p>Finally, setting <code>xlink:actuate</code> to <code>none</code> leaves it completely up to the application to decide when or if to traverse the link.</p><p>Like all attributes in valid documents, the <code>xlink:actuate</code> attribute must be declared in the DTD in an <code>&lt;!ATTLIST&gt;</code> declaration for the linking elements in which it appears, as in the following example:</p><pre>&lt;!ELEMENT IMAGE EMPTY&gt;&lt;!ATTLIST IMAGE    xmlns:xlink CDATA  #FIXED "http://www.w3.org/1999/xlink"    xlink:type  CDATA  #FIXED "simple"    xlink:href  CDATA  #REQUIRED    xlink:show    (new | replace | embed) #IMPLIED "embed"    xlink:actuate (onLoad)                #FIXED "onLoad"&gt;</pre><p>This particular DTD fragment doesn&#146;t allow the <code>xlink:actuate</code> attribute to have the values <code>onRequest</code>, <code>other</code>, or <code>none</code>. That&#146;s OK, too. Not all linking elements necessarily support all possible values of <code>xlink:actuate</code>.</p><dir><b><font face="Arial" size=4 color="#ffffff"><p>A Shortcut for the DTD</p></b></font><font face="Arial" size=1><p>Because the attribute names and types are standardized, it&#146;s often convenient to make the attribute declarations a parameter entity reference and simply repeat that in the declaration of each linking element if there is more than one linking element in a document. For example:</p></font><font face="Courier" size=1><p>&lt;!ENTITY % link-attributes</p><p>"xlink:type CDATA #FIXED 'simple'</p><p>xlink:role CDATA #IMPLIED</p><p>xlink:title CDATA #IMPLIED</p><p>xmlns:xlink CDATA #FIXED 'http://www.w3.org/1999/xlink'</p><p>xlink:href CDATA #REQUIRED</p><p>xlink:show (new|replace|embed|other|none) #IMPLIED 'replace'</p><p>xlink:actuate (onRequest|onLoad|other|none) #IMPLIED 'onRequest'</p><p>"</p><p>&gt;</p><p>&lt;!ELEMENT COMPOSER (#PCDATA)&gt;</p><p>&lt;!ATTLIST COMPOSER</p><p>%link-attributes;</p><p>&gt;</p><p>&lt;!ELEMENT AUTHOR (#PCDATA)&gt;</p><p>&lt;!ATTLIST AUTHOR</p><p>%link-attributes;</p><p>&gt;</p><p>&lt;!ELEMENT WEBSITE (#PCDATA)&gt;</p><p>&lt;!ATTLIST WEBSITE</p><p>%link-attributes;</p><p>&gt;</p></dir><h2>Extended Links</h2></font><p>Simple links behave more or less like the old-fashioned links you&#146;re accustomed to from HTML. A simple link connects one element in the linking document to one target document. Furthermore, the link is one-way, from the source to the target.</p><p>Extended links, however, go substantially beyond HTML links to include multidirectional links between many documents and out-of-line links. An extended link consists of a set of resources and a set of the connections between them. The resources may be local (part of the extended link element) or remote (not part of the extended link element, and generally, though not necessarily, in another document). Each resource may be either a target or a source of a link or both. If a link does not contain any local resources, only remote resources, it&#146;s called an <i>out-of-line link</i>.</p><p>In computer science terms, an extended link is a directed, labeled graph in which the resources are vertices and the links between resources are edges. Thought of abstractly like this, an extended link is really just an XML format for a directed graph. The tricky part comes in deciding exactly what any particular application is supposed to do with such a data structure. For now, I can only speculate about what applications might do with extended links and what sort of user interfaces they might provide.</p><p>An extended link is represented in an XML document as an element of some arbitrary type, such as <code>COMPOSER</code> or <code>TEAM</code>, that has an <code>xlink:type</code> attribute with the value <code>extended</code>. As usual, the <code>xlink</code> prefix is associated with the <code>http://www.w3.org/1999/xlink</code> namespace URI. For example:,</p><pre>&lt;WEBSITE xmlns:xlink="http://www.w3.org/1999/xlink"         xlink:type="extended"&gt; ...&lt;/WEBSITE&gt;</pre><h2>Extended Link Syntax</h2></font><p>Extended links generally point to more than one target and from more than one source. Both sources and targets are called by the more generic name <i>resource</i>. In fact, whether a resource is a source or a target can change depending on which link is being followed and in which direction.</p><p>Resources are divided into <i>remote resources</i> and<i> local resources</i>. A local resource is actually contained inside the extended link element. It is the content of an element of arbitrary type that has an <code>xlink:type</code> attribute with the value <code>resource</code>.</p><p>A remote resource exists outside the extended link element, very possibly in another document. The extended link element contains locator child elements that point to the remote resource. These are elements with any name that have an <code>xlink:type</code> attribute with the value <code>locator</code>. Each locator element has an <code>xlink:href</code> attribute whose value is a URI locating the remote resource.</p><dir><b><font face="Arial" size=1 color="#000080"><p>Caution</p></b></font><p>The terminology is unnecessarily confusing here. Both <code>xlink:type="locator"</code> and <code>xlink:type="resource"</code> elements locate resources. An <code>xlink:type="locator"</code> element locates a remote resource. An <code>xlink:type="resource"</code> element locates a local resource. Personally, I think <code>xlink:type="local"</code> and <code>xlink:type="remote"</code> would be better choices here; but <code>xlink:type="resource"</code> and <code>xlink:type="locator"</code> are what the standard has given us.</p></dir></font><p>For example, suppose you&#146;re writing a page of links to Java sites. One of the sites you want to link to is Cafe au Lait at <code>http://www.cafeaulait.org/</code>. However, there are also three mirrors of that site in three other countries. Some people coming to the site will want to access the home site, while others will want to go to one of the mirror sites. With HTML links or simple XLinks, you have to write four different links, one for the home site and one for each mirror, and let the user pick. However, with an extended XLink, you can provide one link that connects all four sites, as well as the page you&#146;re linking from. The browser can choose the one closest to the user when the link is activated (though I feel compelled to reiterate here that browser support for this is strictly hypothetical). The four remote sites are identified by locator elements. The text that will be shown to the reader of the page is identified by a resource element. Here&#146;s the XML:</p><pre>&lt;WEBSITE xmlns:xlink="http://www.w3.org/1999/xlink"         xlink:type="extended"&gt;  &lt;NAME xlink:type="resource"&gt;Cafe au Lait&lt;/NAME&gt;  &lt;HOMESITE xlink:type="locator"            xlink:href="http://www.cafeaulait.org/"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:href="http://sunsite.kth.se/javafaq"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:href="http://ibiblio.org/javafaq/"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:href="http://sunsite.cnlab-switch.ch/javafaq"/&gt;&lt;/WEBSITE&gt;</pre><p>This <code>WEBSITE</code> element describes an extended link with five resources:</p><ul>	<li><p>The <code>NAME</code> element containing the text <code>Cafe au Lait</code>, a local resource</p></li>	<li><p>The document at <code>http://www.cafeaulait.org/</code>, a remote resource</p></li>	<li><p>The document at <code>http://sunsite.kth.se/javafaq</code>, a remote resource</p></li>	<li><p>The document at <code>http://ibiblio.org/javafaq/</code>, a remote resource</p></li>	<li><p>The document at <code>http://sunsite.cnlab-switch.ch/javafaq</code>, a remote resource</p></dir></li></ul><p>Figure 17-2 shows the <code>WEBSITE</code> extended link element and five resources. The <code>WEBSITE</code> element contains one resource and refers to the other four by URLs. However, this just describes these resources. No connections are implied between them.</p><p><img src="Image5.gif" width=593 height=299></p><p>Figure 17-2: An extended link with one local and four remote resources</p><p>Both the extended link element itself and the individual locator children may have descriptive attributes, such as <code>xlink:role</code> and <code>xlink:title</code>. The <code>xlink:role</code> and <code>xlink:title</code> attributes of the extended link element provide default roles and titles for each of the individual locator child elements. Individual resource and locator elements may override these defaults with <code>xlink:role</code> and <code>xlink:title</code> attributes of their own. Listing 17-1 demonstrates:</p><font face="Arial"><p>Listing 17-1: An Eextended Llink with Oone Llocal and Ffour Rremote Rresources</p></font><pre>&lt;WEBSITE xmlns:xlink="http://www.w3.org/1999/xlink"         xlink:type="extended" xlink:title="Cafe au Lait"&gt;  &lt;NAME xlink:type="resource"        xlink:role="http://www.cafeaulait.org/"&gt;    Cafe au Lait  &lt;/NAME&gt;  &lt;HOMESITE xlink:type="locator"          xlink:href="http://www.cafeaulait.org/"          xlink:role="http://www.cafeaulait.org/"/&gt;  &lt;MIRROR xlink:type="locator"         xlink:title="Cafe au Lait Swedish Mirror"         xlink:role="http://sunsite.kth.se/"         xlink:href="http://sunsite.kth.se/javafaq"/&gt;  &lt;MIRROR xlink:type="locator"         xlink:title="Cafe au Lait U.S. Mirror"         xlink:role="http://ibiblio.org/"         xlink:href="http://ibiblio.org/javafaq/"/&gt;  &lt;MIRROR xlink:type="locator"         xlink:title="Cafe au Lait Swiss Mirror"         xlink:role="http://sunsite.cnlab-switch.ch/"         xlink:href="http://sunsite.cnlab-switch.ch/javafaq"/&gt;&lt;/WEBSITE&gt;</pre><p>As always, in valid documents, the XLink elements and all their possible attributes must be declared in the DTD. For example, Listing 17-2 is a DTD that declares the <code>WEBSITE</code>, <code>HOMESITE</code>, <code>NAME</code>, and <code>MIRROR</code> elements, as used in the preceding example, as well as their attributes:</p><font face="Arial"><p>Listing 17-2: A DTD Tthat Ddeclares the WEBSITE, NAME, HOMESITE, and MIRROR Eelements</p></font><pre>&lt;!ELEMENT WEBSITE (NAME, HOMESITE, MIRROR*) &gt;&lt;!ATTLIST WEBSITE  xmlns:xlink  CDATA     #FIXED  "http://www.w3.org/1999/xlink"  xlink:type  (extended) #FIXED  "extended"  xlink:title  CDATA     #IMPLIED  xlink:role   CDATA     #IMPLIED&gt;&lt;!ELEMENT NAME (#PCDATA)&gt;&lt;!ATTLIST NAME   xlink:type  (resource) #FIXED    "resource"   xlink:role   CDATA     #IMPLIED   xlink:title  CDATA     #IMPLIED&gt;&lt;!ELEMENT HOMESITE (#PCDATA)&gt;&lt;!ATTLIST HOMESITE   xlink:type  (locator)  #FIXED    "locator"   xlink:href   CDATA     #REQUIRED   xlink:role   CDATA     #IMPLIED   xlink:title  CDATA     #IMPLIED&gt;&lt;!ELEMENT MIRROR (#PCDATA)&gt;&lt;!ATTLIST MIRROR   xlink:type  (locator)  #FIXED    "locator"   xlink:href   CDATA     #REQUIRED   xlink:role   CDATA     #IMPLIED   xlink:title  CDATA     #IMPLIED&gt;</pre><dir><b><font face="Arial" size=4><p>Another Shortcut for the DTD</p></b></font><p>If you have many extended link, resource, and locator elements, it may be advantageous to define the common attributes in parameter entities in the DTD, which you can reuse in different elements. For example:</p><pre>&lt;!ENTITY % extended.att"xlink:type CDATA #FIXED 'extended'xmlns:xlink CDATA #FIXED 'http://www.w3.org/1999/xlink'xlink:role CDATA #IMPLIEDxlink:title CDATA #IMPLIED"&gt;&lt;!ENTITY % resource.att"xlink:type (resource) #FIXED 'resource'xlink:href CDATA #REQUIREDxlink:role CDATA #IMPLIEDxlink:title CDATA #IMPLIED"&gt;&lt;!ENTITY % locator.att"xlink:type (locator) #FIXED 'locator'xlink:href CDATA #REQUIREDxlink:role CDATA #IMPLIEDxlink:title CDATA #IMPLIED"&gt;&lt;!ELEMENT WEBSITE (HOMESITE, MIRROR*) &gt;&lt;!ATTLIST WEBSITE%extended.att;&gt;&lt;!ELEMENT NAME (#PCDATA)&gt;&lt;!ATTLIST NAME%resource.att;&gt;&lt;!ELEMENT HOMESITE (#PCDATA)&gt;&lt;!ATTLIST HOMESITE%locator.att;&gt;&lt;!ELEMENT MIRROR (#PCDATA)&gt;&lt;!ATTLIST MIRROR%locator.att;&gt;</pre></dir><h2>Arcs</h2><p>The <code>xlink:show</code> and <code>xlink:actuate</code> attributes of a simple link define how and when a link is traversed. Extended links are a little more complicated because they provide many different possible traversal paths. For example, in an extended link with three resources, A, B, and C; there are nine different possible traversals:</p><ul><li>A <font face="Zapf Dingbats">&#212;</font>A</li><li>B <font face="Zapf Dingbats">&#212;</font>B</li><li>C <font face="Zapf Dingbats">&#212;</font>C</li><li>A <font face="Zapf Dingbats">&#212;</font>B</li><li>B <font face="Zapf Dingbats">&#212;</font>A</li><li>A <font face="Zapf Dingbats">&#212;</font>C</li><li>C <font face="Zapf Dingbats">&#212;</font>A</li><li>B <font face="Zapf Dingbats">&#212;</font>C</li><li>C <font face="Zapf Dingbats">&#212;</font>B</li></ul></font><p>Each of these possible paths between resources can have different rules for when the link is traversed and what happens when it&#146;s traversed. These potential traversals are called <i>arcs</i>, and they're represented in XML by elements that have an <code>xlink:type</code> attribute with the value <code>arc</code>. Traversal rules are specified by attaching <code>xlink:actuate</code> and <code>xlink:show</code> attributes to arc elements. These attributes have the same values and meanings as they do for simple links. Applications can use arc elements to determine which traversals are and are not allowed and when a link is traversed.</p><p>An arc element also has an <code>xlink:from</code> attribute and an <code>xlink:to</code> attribute. The <code>xlink:from</code> attribute says which resource or resources the arc comes from. The <code>xlink:to</code> attribute says which resource or resources the arc goes to. They do this by matching the value of the <code>xlink:label</code> attributes on the various resources in the extended link. Each <code>xlink:label</code> should contain an XML name token. For example, if the <code>xlink:from</code> attribute has the value A, and the <code>xlink:to</code> attribute has the value B, the arc goes from the resource whose <code>xlink:label</code> has the value A to the resource whose <code>xlink:label</code> has the value B. Listing 17-3 demonstrates with labels that contain two-letter country codes and state abbreviations mapped to the geographic location of each resource.</p><font face="Arial"><p>Listing 17-3: An Eextended Llink with Aarcs</p></font><pre>&lt;WEBSITE xmlns:xlink="http://www.w3.org/1999/xlink"         xlink:type="extended" xlink:title="Cafe au Lait"&gt;  &lt;NAME xlink:type="resource" xlink:label="source"&gt;    Cafe au Lait  &lt;/NAME&gt;  &lt;HOMESITE xlink:type="locator"           xlink:href="http://www.cafeaulait.org/"           xlink:label="ny"/&gt;  &lt;MIRROR xlink:type="locator"         xlink:title="Cafe au Lait Swedish Mirror"         xlink:label="se"         xlink:href="http://sunsite.kth.se/javafaq"/&gt;  &lt;MIRROR xlink:type="locator"         xlink:title="Cafe au Lait U.S. Mirror"         xlink:label="nc"         xlink:href="http://ibiblio.org/javafaq/"/&gt;  &lt;MIRROR xlink:type="locator"         xlink:title="Cafe au Lait Swiss Mirror"         xlink:label="ch"         xlink:href="http://sunsite.cnlab-switch.ch/javafaq"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="source"              xlink:to="ch"    xlink:show="replace"              xlink:actuate="onRequest"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="source"              xlink:to="ny"    xlink:show="replace"              xlink:actuate="onRequest"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="source"              xlink:to="se"    xlink:show="replace"              xlink:actuate="onRequest"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="source"              xlink:to="nc"    xlink:show="replace"              xlink:actuate="onRequest"/&gt;&lt;/WEBSITE&gt;</pre><p>The first <code>CONNECTION</code> element in the preceding listing defines an arc from the resource with the label ""source"" to the resource with the label ""ch."" The second <code>CONNECTION</code> element defines an arc from the resource with the label ""source"" to the resource with the label ""ny,"" and so on. Figure 17-3 diagrams this link with ovals representing the resources and arrows representing the arcs. This is the same as Figure 17-2, but now connections have been added between resources, as specified by the arc elements.</p><p><img src="Image19.jpg" width=333 height=172></p><p>Figure 17-3: An extended link with one local and four remote resources and arcs going from the local resource to each of the remote resources</p><p>In this case, each arc element defines exactly one connection, because the target and source labels aren&#146;t shared by multiple resources. However, this isn&#146;t necessarily the case. Each arc goes from exactly one resource to exactly one other resource. However, a single arc element may actually describe multiple arcs. If more than one resource has the <code>xlink:label</code> A, <code>xlink:from="A"</code> and <code>xlink:to="B"</code> define multiple arcs from all resources with the label A to the resource with label B. If more than one resource has the label B, arcs go from all resources with the label A to all resources with label B. For example, consider the <code>WEBSITE</code> element in Listing 17-4:</p><font face="Arial"><p>Listing 17-4: Labels Can Be Shared between Resources</p></font><pre>&lt;WEBSITE xmlns:xlink="http://www.w3.org/1999/xlink"         xlink:type="extended" xlink:title="Cafe au Lait"&gt;  &lt;NAME xlink:type="resource" xlink:label="source"&gt;    Cafe au Lait  &lt;/NAME&gt;  &lt;HOMESITE xlink:type="locator"            xlink:href="http://www.cafeaulait.org/"            xlink:label="home"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:title="Cafe au Lait Swedish Mirror"          xlink:label="mirror"          xlink:href="http://sunsite.kth.se/javafaq"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:title="Cafe au Lait U.S. Mirror"          xlink:label="mirror"          xlink:href="http://ibiblio.org/javafaq/"/&gt;  &lt;MIRROR xlink:type="locator"         xlink:title="Cafe au Lait Swiss Mirror"         xlink:label="mirror"         xlink:href="http://sunsite.cnlab-switch.ch/javafaq"/&gt;  &lt;CONNECTION xlink:type="arc"  xlink:from="source"              xlink:to="mirror" xlink:show="replace"              xlink:actuate="onRequest"/&gt;&lt;/WEBSITE&gt;</pre><p>Here, the ""mirror"" label is shared by three different elements, and the single arc element defines three arcs: oOne from the source to the Swedish mirror, one from the source to the Swiss mirror, and one from the source to the U.S. mirror. Figure 17-4 diagrams this. It&#146;s very similar to Figure 17-3 except that the link between the <code>NAME</code> element and the home site at <code>http://www.cafeaulait.org/</code> is missing. Because the <code>HOMESITE</code> has a different label, it isn&#146;t connected by the single arc element.</p><p><img src="Image20.jpg" width=333 height=172></p><p>Figure 17-4: An extended link with one local and four remote resources and three arcs going from the local resource to each of the mirror resources</p><p>Although I don&#146;t recommend it, you can omit either the <code>xlink:from</code> attribute, the <code>xlink:to</code> attribute, or both from an arc element. In this case, all resources participating in the link, both local and remote, take the place of the missing attribute. For example, consider the <code>WEBSITE</code> element in Listing 17-5.</p><font face="Arial"><p>Listing 17-5: An Oomitted xlink:to Aattribute</p></font><pre>&lt;WEBSITE xmlns:xlink="http://www.w3.org/1999/xlink"         xlink:type="extended" xlink:title="Cafe au Lait"&gt;  &lt;NAME xlink:type="resource" xlink:label="source"&gt;    Cafe au Lait  &lt;/NAME&gt;  &lt;HOMESITE xlink:type="locator"            xlink:href="http://www.cafeaulait.org/"            xlink:label="ny"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:title="Cafe au Lait Swedish Mirror"          xlink:label="se"          xlink:href="http://sunsite.kth.se/javafaq"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:title="Cafe au Lait U.S. Mirror"          xlink:label="nc"          xlink:href="http://ibiblio.org/javafaq/"/&gt;  &lt;MIRROR xlink:type="locator"          xlink:title="Cafe au Lait Swiss Mirror"          xlink:label="ch"         xlink:href="http://sunsite.cnlab-switch.ch/javafaq"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="source"              xlink:show="replace" xlink:actuate="onRequest"/&gt;&lt;/WEBSITE&gt;</pre><p>Its single arc element is missing the <code>xlink:to</code> attribute. Consequently, this extended link includes five arcs&#151;one from the source to <code>us</code>, three from the source to each of the mirrors, and one from the source to itself. All arcs start at the <code>NAME</code> element because the <code>xlink:from</code> attribute is present and so specifies. Figure 17-5 diagrams this. It&#146;s very similar to Figure 17-3 except that there&#146;s now an extra circular arc from the <code>NAME</code> element to itself.</p><p></p><p>&nbsp;<img src="Image21.jpg" width=333 height=187></p><p>Figure 17-5: An extended link with one local and four remote resources and five arcs going from the local resource to each of the resources, including to itself</p></font><p>As usual, to be valid, all the attributes and elements must be fully declared in the document&#146;s DTD. Listing 17-6 is a DTD fragment that describes the preceding <code>WEBSITE</code> element.</p><font face="Arial"><p>Listing 17-6: A DTD for the WEBSITE Extended Llink</p></font><pre>&lt;!ELEMENT WEBSITE (HOMESITE, MIRROR*, CONNECTION*) &gt;&lt;!ATTLIST WEBSITE  xmlns:xlink  CDATA  #FIXED "http://www.w3.org/1999/xlink"  xlink:type  (extended) #FIXED  "extended"  xlink:title  CDATA     #IMPLIED  xlink:role   CDATA     #IMPLIED&gt;&lt;!ELEMENT HOMESITE (#PCDATA)&gt;&lt;!ATTLIST HOMESITE   xlink:type     (locator) #FIXED  "locator"   xlink:href      CDATA    #REQUIRED   xlink:label     CDATA    #IMPLIED   xlink:role      CDATA    #REQUIRED   xlink:title     CDATA    #IMPLIED&gt;&lt;!ELEMENT MIRROR (#PCDATA)&gt;&lt;!ATTLIST MIRROR   xlink:type     (locator) #FIXED  "locator"   xlink:href      CDATA    #REQUIRED   xlink:label     CDATA    #IMPLIED   xlink:role      CDATA    #REQUIRED   xlink:title     CDATA    #IMPLIED&gt;&lt;!ELEMENT CONNECTION EMPTY&gt;&lt;!ATTLIST CONNECTION  xlink:type    (arc)                #FIXED   "arc"  xlink:from     CDATA               #IMPLIED  xlink:to       CDATA               #IMPLIED  xlink:show    (replace)            #IMPLIED "replace"  xlink:actuate (onRequest | onLoad) #IMPLIED "onRequest"&gt;</pre><h2>Out-of-Line Links</h2></font><p>Inline links, such as the familiar <code>A</code> element from HTML, are themselves part of the source or target of the link. Generally, they link from the document that they're part of to some other document. However, they can also link to a different part of the same document. The source of the link, that is the blue underlined text, is included inside the <code>A</code> element that defines the link. Most simple links are inline.</p><p>Extended links can also be out-of-line. An out-of-line link does not contain any part of any of the resources it connects. Instead, the links are stored in a separate document called the <i>linkbase</i>. For example, you might use a linkbase to maintain a slide show where each slide requires next and previous links. By changing the order of the slides in the linkbase, you can change the targets of the previous and next links on each page without having to edit the slides themselves.</p><p>Out-of-line links also allow you to add links to and from documents that can&#146;t be modified, such as a page on someone else&#146;s web site. For example, media watchdog groups, such as FAIR (<code>http://www.fair.org/</code>) and AIM (<code>http://www.aim.org/</code>), could put out-of-line links from the New York Times editorial page to analyses of those editorials. The links would only be visible to users who loaded the right linkbase, however.</p><p>Finally, out-of-line links allow you to add links to different parts of non-XML content. For instance, you could link to the third minute of a QuickTime movie, even though the movie doesn&#146;t contain any attributes or elements that would normally be used to identify the linked position.</p><p>For example, a list of mirror sites for a document, such as Listing 17-5, might be stored in a separate file on a web server in a known location where browsers can find and query it to determine the nearest mirror of a page they're looking for. The out-of-lineness, however, is that this element does not appear in the document from which the link is activated.</p><p>This expands the abstraction of style sheets into the linking domain. A style sheet is completely separate from the document it describes, and yet provides rules that modify how the document is presented to the reader. A linkbase containing out-of-line links is separated from the documents it connects, yet it provides the necessary links to the reader. This has several advantages, including keeping more presentation-oriented markup separate from the document and allowing the linking of read-only documents.</p><dir><b><font face="Arial" size=1 color="#000080"><p>Caution</p></b></font><p>I feel compelled to note that application support for out-of-line links is at best hypothetical at the time of this writing. Although I can show you how to create such links, their actual implementation and support is almost certainly some time away. Some of the details remain to be defined and likely will be implemented in vendor-specific fashions, at least initially. Still, they hold the promise of enabling more sophisticated linking than can be achieved with HTML.</p></dir><p>For example, I&#146;ve put the notes for a Java course I teach on my web site. Figure 17-6 shows the introductory page. This particular course consists of 13 classes, each of which contains between 30 and 60 individual pages of notes. A table of contents page for each class is then provided that links to each note page used in that class. Each of the several hundred pages making up the entire site has links to the previous document (Previous link), the next document (Next link), and the table of contents (Top link) for the week, as shown in Figure 17-7. Putting it all together, this amounts to more than a thousand interconnections among this set of documents.</p><p><img src="Image22.jpg" width=256 height=234></p><p>Figure 17-6: The introductory page for my class web site shows 13 weeks of lecture notes.</p><p><img src="Image23.jpg" width=256 height=240></p><p>Figure 17-7: One page of lecture notes displaying the Previous, Next, and Top links</p><p>The possible interconnections grow exponentially with the number of documents. Every time a document is moved, renamed, or divided into smaller pieces, the links need to be adjusted on that page, on the page before it and after it in the set, and on the table of contents for the week. Quite frankly, this is a lot more work than it should be, and it tends to discourage necessary modifications and updates to the course notes.</p><p>The sensible thing to do, if HTML supported it, would be to store the connections in a separate document. Pages could then be reorganized by editing that one document. HTML links don&#146;t support this, but extended XLinks do. Listing 17-7 demonstrates one such document. This document describes links from the main index page to the individual classes and vice versa.</p><font face="Arial"><p>Listing 17-7: An Out-of-Line Extended Link</p></font><pre>&lt;COURSE xmlns:xlink="http://www.w3.org/1999/xlink"        xlink:type="extended"&gt;  &lt;TOC xlink:type="locator" xlink:href="index.xml"       xlink:label="index"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week1.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week2.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week3.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week4.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week5.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week6.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week7.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week8.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week9.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week10.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week11.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week12.xml"         xlink:label="class"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week13.xml"         xlink:label="class"/&gt;  &lt;CONNECTION xlink:type="arc" from="index" to="class"/&gt;  &lt;CONNECTION xlink:type="arc" from="class" to="index"/&gt;&lt;/COURSE&gt;</pre><p>Listing 17-8 demonstrates another possible out-of-line extended link. This one provides previous and next links between the 13 classes.</p><font face="Arial"><p>Listing 17-8: An Out-of-Line Extended Llink</p></font><pre>&lt;COURSE xmlns:xlink="http://www.w3.org/1999/xlink"         xlink:type="extended"&gt;  &lt;CLASS xlink:type="locator" xlink:href="week1.xml"         xlink:label="1"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week2.xml"         xlink:label="2"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week3.xml"         xlink:label="3"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week4.xml"         xlink:label="4"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week5.xml"         xlink:label="5"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week6.xml"         xlink:label="6"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week7.xml"         xlink:label="7"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week8.xml"         xlink:label="8"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week9.xml"         xlink:label="9"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week10.xml"         xlink:label="10"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week11.xml"         xlink:label="11"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week12.xml"         xlink:label="12"/&gt;  &lt;CLASS xlink:type="locator" xlink:href="week13.xml"         xlink:label="13"/&gt;  &lt;!-- Previous Links --&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="2"  xlink:to="1"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="3"  xlink:to="2"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="4"  xlink:to="3"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="5"  xlink:to="4"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="6"  xlink:to="5"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="7"  xlink:to="6"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="8"  xlink:to="7"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="9"  xlink:to="8"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="10" xlink:to="9"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="11" xlink:to="10"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="12" xlink:to="11"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="13" xlink:to="12"/&gt;  &lt;!-- Next Links --&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="1"  xlink:to="2"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="2"  xlink:to="3"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="3"  xlink:to="4"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="4"  xlink:to="5"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="5"  xlink:to="6"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="6"  xlink:to="7"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="7"  xlink:to="8"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="8"  xlink:to="9"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="9"  xlink:to="10"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="10" xlink:to="11"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="11" xlink:to="12"/&gt;  &lt;CONNECTION xlink:type="arc" xlink:from="12" xlink:to="13"/&gt;&lt;/COURSE&gt;</pre><p>Now the topics can be reordered simply by rearranging what&#146;s connected to what in the out-of-line extended link. The course notes themselves don&#146;t have to be touched. However, a couple of pieces are missing from this puzzle. The first is some notion of how or where in the individual week documents the links will be displayed. It would be easy enough to add <code>&lt;PREVIOUS/&gt;</code> and <code>&lt;NEXT/&gt;</code> tags to the individual week pages. The XPointers you&#146;ll learn about in the next chapter would allow you to select these elements in particular as the sources of outgoing links rather than the entire document.</p><p>A single XML document may contain multiple out-of-line extended links. Listings 17-7 and 17-8 could be combined into a single document. However, the XLink specification is relatively silent on exactly what the format of such a compound document should look like. About all it says is that such a document must be a well-formed XML document. An XLink processor would presumably read the entire document and extract and store any extended links it found there.</p><p>The final thing that&#146;s missing is some way for a browser or other application that&#146;s reading the individual pages to be informed that there is a separate linkbase elsewhere that it should read and parse so that it can show the links to the user. This is probably the area in which the specification is weakest. Ideally, it would be handled through some external mechanism such as HTTP headers. However, the only currently defined way to do this (which still isn&#146;t supported by any browsers or other software) is to add an extended link inside the documents the out-of-line link connects.</p><p>One of the arcs in this extended link has an <code>xlink:arcrole</code> attribute with the value <code>http://www.w3.org/1999/xlink/properties/linkbase</code>. The <code>xlink:to</code> attribute of this arc element should identify a locator element that gives the URL of the linkbase. The <code>xlink:actuate</code> attribute of the arc determines whether the links are loaded automatically or whether a user request is required. For example, if Listing 17-7 and Listing 17-8 were found in a file at the URL <code>http://ibiblio.org/javafaq/course/courselinks.xml</code>, this element could be included in the main page for the Java course notes:</p><pre>&lt;LINKBASE xlink:type="xlink:extended"          xmlns:xlink="http://www.w3.org/1999/xlink"&gt;  &lt;SOURCE xlink:type="resource" xlink:label="source"/&gt;  &lt;LINKS xlink:type="locator" xlink:label="linkbase"         xlink:href=          "http://ibiblio.org/javafaq/course/courselinks.xml"/&gt;  &lt;LOAD  xlink:type="arc"         xlink:arcrole=          "http://www.w3.org/1999/xlink/properties/linkbase"         xlink:from="source" xlink:to="linkbase"         xlink:actuate="onLoad" /&gt;&lt;/LINKBASE&gt;</pre><p>Of course, the problem with this approach is that it requires you to modify the documents before you can link them. At least in this case, however, it might be enough for the browser to load one such document to find the linkbase, so you may not need to modify every document the linkbase connects.</p><h2>XML Base</h2></font><p>Documents on the Web have an annoying tendency to move. Authors edit pages on their local systems or staging servers before uploading them to the server. Readers save copies on their hard drives. Fans make copies of entire sites, both licit and illicit. Google caches almost the entire Web on its servers. Given this, authors really can&#146;t assume that readers get documents from the place the authors put them. It&#146;s entirely possible that a document will be somewhere else. For example, I used AltaVista to search for a phrase in a document I published on my web site and found it had somehow duplicated itself onto 12 different servers in five different countries, my copyright notices notwithstanding.</p><p>Given all this and more, using relative URLs in a wWeb document is a little risky; and that&#146;s true whether the URLs are stored in HTML, XML, XHTML, XLinks, XPointers, XInclude, RDF, schemas, RDDL, or any of the other myriad languages that somewhere contain URLs. HTML solves this problem by allowing an empty <code>BASE</code> element in the <code>HEAD</code> that identifies the base URL via an <code>HREF</code> attribute.</p><p>For example, Listing 17-9 is a very simple home page for a fictional San Francisco plant nursery called God&#146;s Green Earth. This page is normally found at <code>http://www.geocities.com/godsgreenearthsf/</code>. Because of the <code>BASE</code> element in the <code>HEAD</code>, it has the base URL <code>http://www.geocities.com/godsgreenearthsf/</code> even if you load it from a copy saved on your local hard drive. The logo image is loaded from GeoCities, even if the page has been moved to a different server. Links that point to relative URLs are relative to <code>http://www.geocities.com/godsgreenearthsf/</code>. Indeed, anything in this page that uses a relative URL will be loaded from <code>http://www.geocities.com</code>.</p><font face="Arial"><p>Listing 17-9: Setting the Base URL with a BASE Element in HTML</p></font><pre>&lt;HTML&gt;  &lt;HEAD&gt;    &lt;TITLE&gt;God's Green Earth&lt;/TITLE&gt;    &lt;BASE HREF="http://www.geocities.com/godsgreenearthsf/" /&gt;  &lt;/HEAD&gt;  &lt;BODY&gt;    &lt;H1&gt;God's Green Earth&lt;/H1&gt;    &lt;IMG SRC="/clipart/m/s/appleblossoms.gif" /&gt;    &lt;UL&gt;      &lt;LI&gt;&lt;A HREF="flowers.html"&gt;Flowers&lt;/A&gt;&lt;/LI&gt;      &lt;LI&gt;&lt;A HREF="seeds.html"&gt;Seeds&lt;/A&gt;&lt;/LI&gt;      &lt;LI&gt;&lt;A HREF="fertilizer.html"&gt;Fertilizer&lt;/A&gt;&lt;/LI&gt;      &lt;LI&gt;&lt;A HREF="sod.html"&gt;Sod&lt;/A&gt;&lt;/LI&gt;    &lt;/UL&gt;  &lt;/BODY&gt;&lt;/HTML&gt;</pre><p>There are five relative URLs in Listing 17-9, one in an <code>IMG</code> element and four in <code>A</code> elements. When any of these links are activated, the relative URL is combined with the absolute URL in the base before the link is followed. The five URLs in Listing 17-9 become the following:</p><ul>	<li><p>http://www.geocities.com/clipart/m/s/appleblossoms.gif</p></li>	<li><p>http://www.geocities.com/godsgreenearthsf/flowers.htm</p></li>	<li><p>http://www.geocities.com/godsgreenearthsf/seeds.html</p></li>	<li><p>http://www.geocities.com/godsgreenearthsf/fertilizer.html</p></li><li><p>http://www.geocities.com/godsgreenearthsf/sod.html</p></li></ul><p>The first URL in this list comes from GeoCities, but not from the <code>godsgreenearthsf</code> directory, because the relative URL in the <code>IMG</code> element begins with a forward slash and therefore starts from the root of the Web web server. It&#146;s relative to the host but not the directory. The remaining four URLs do not begin with a forward slash and all are loaded from the <code>godsgreenearthsf</code> directory on <code>www.geocities.com</code>.</p><p>Similar approaches work in XHTML, but in most XML-based vocabularies, there&#146;s no convenient place to put a <code>BASE</code> element. The <code>BASE</code> element could even be needed for something else entirely, such as the location of a military base or the length of the base of a triangle.</p><p>Instead, in XML, you can use an <code>xml:base</code> attribute to establish a base URL. The value of this attribute contains the base URL for that element and all its descendants. For example, Listing 17-10 also has the base URL <code>http://www.geocities.com/godsgreenearthsf/</code>. There are five XLinks in this document. Each XLink contains a relative URL, and each is relative to <code>http://www.geocities.com/godsgreenearthsf/</code>. Again, anything in this page that uses a relative URL will be loaded from <code>http://www.geocities.com</code> no matter where the page itself is found.</p><font face="Arial"><p>Listing 17-10: Setting the Base URL with an xml:base Attribute in XML</p></font><pre>&lt;?xml version="1.0"?&gt;&lt;BUSINESS xmlns:xlink="http://www.w3.org/1999/xlink"    xml:base="http://www.geocities.com/godsgreenearthsf/"          xmlns:xlink="http://www.w3.org/1999/xlink"&gt;    &lt;NAME&gt;God's Green Earth&lt;/NAME&gt;    &lt;LOGO xlink:type="simple"          xlink:show="embed"          xlink:actuate="onLoad"          xlink:href="/clipart/m/s/appleblossoms.gif" /&gt;    &lt;PRODUCTS&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"               xlink:href="flowers.html"&gt;Flowers&lt;/PRODUCT&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"                xlink:href="seeds.html"&gt;Seeds&lt;/PRODUCT&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"                xlink:href="fertilizer.html"&gt;        Fertilizer      &lt;/PRODUCT&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"                xlink:href="sod.html"&gt;Sod&lt;/PRODUCT&gt;    &lt;/PRODUCTS&gt;&lt;/BUSINESS&gt;</pre><p>When activated, the five XLinks in Listing 17-10 resolve to the same five URLs as before:</p><ul><code><li>http://www.geocities.com/clipart/m/s/appleblossoms.gif</li><li>http://www.geocities.com/godsgreenearthsf/flowers.htm</li><li>http://www.geocities.com/godsgreenearthsf/seeds.html</li><li>http://www.geocities.com/godsgreenearthsf/fertilizer.html</li><li>http://www.geocities.com/godsgreenearthsf/sod.html</li></code></ul></font><p>In Listing 17-10, all the URLs the base is attached to are in XLinks. The <code>xml:base</code> attribute is more general than that, however. It also applies to URLs found in XInclude <code>include</code> elements, processing instructions, W3C Schema Language <code>schemaLocation</code> attributes, and more.</p><p>The one common kind of URL that <code>xml:base</code> does not apply to is the namespace URL. <code>xml:base</code> attributes are not considered when processing a namespace URL, even a relative one. However, relative namespace URLs are highly discouraged, and you should not use them in your own work, so this shouldn&#146;t be much of an issue in practice.</p><p>Listing 17-10 is well -formed and namespace well -formed, although the latter may be a little surprising because Listing 17-10 appears to be using an undeclared namespace prefix, <code>xml</code>. Nowhere do you see an <code>xmlns:xml</code> declaration that binds the prefix <code>xml</code> to some namespace URI. This is because the prefix <code>xml</code> is special. Of all possible namespace prefixes, only this one does not need to be declared. All namespace-aware parsers prebind it to the URI <code>http://www.w3.org/XML/1998/namespace</code>. This is a special case accounted for in the namespaces specification to allow namespace-aware parsers to be backwardly compatible with documents that use the <code>xml:space</code> and <code>xml:lang</code> attributes defined in XML 1.0. You can declare the <code>xml</code> prefix if you feel a need to, but if you do it must be set to that URL, like this:</p><pre>&lt;BUSINESS xml:base="http://www.geocities.com/godsgreenearthsf/"          xmlns:xml="http://www.w3.org/XML/1998/namespace"    xml:base="http://www.geocities.com/godsgreenearthsf/"              xmlns:xlink="http://www.w3.org/1999/xlink"&gt;</pre><p>Most authors don&#146;t bother to declare it.</p><p>Listing 17-10 is not valid because it doesn&#146;t have a document type declaration, but it could be valid if you provided one. The DTD would have to declare the <code>xml:base</code> attribute just like any other attribute:</p><pre>&lt;!ATTLIST BUSINESS        xml:base    CDATA #IMPLIED       xmlns:xlink CDATA #FIXED  "http://www.w3.org/1999/xlink"&gt; </pre><p>Most commonly, the <code>xml:base</code> attribute is attached to the root element so that it establishes a base URL for the entire document. However, it can be applied to nonroot elements, in which case, it only applies to the element and its descendants, and not to other elements elsewhere in the tree. For example, Listing 17-11 moves it to the <code>PRODUCTS</code> element:</p><font face="Arial"><p>Listing 17-11: An xml:base A\ttribute on a Nonroot Eelement</p></font><pre>&lt;?xml version="1.0"?&gt;&lt;BUSINESS xmlns:xlink="http://www.w3.org/1999/xlink"&gt;   &lt;NAME&gt;God's Green Earth&lt;/NAME&gt;   &lt;LOGO xlink:type="simple"         xlink:show="embed"         xlink:actuate="onLoad"         xlink:href="/clipart/m/s/appleblossoms.gif" /&gt;   &lt;PRODUCTS          xml:base="http://www.geocities.com/godsgreenearthsf/"&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"              xlink:href="flowers.html"&gt;Flowers&lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="seeds.html"&gt;Seeds&lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="fertilizer.html"&gt;       Fertilizer     &lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="sod.html"&gt;Sod&lt;/PRODUCT&gt;   &lt;/PRODUCTS&gt;&lt;/BUSINESS&gt;</pre><p>In this position, it only applies to the <code>PRODUCT</code> links. It does not apply to the <code>LOGO</code> link. The logo URL <code>/clipart/m/s/appleblossoms.gif</code> is now relative to the physical location of this document. A different image will load if you pull it in from a local drive than from one on a remote web server.</p><p>There can even be multiple <code>xml:base</code> attributes on different elements in the document, so that different elements are relative to different URLs. If an element has multiple ancestors with <code>xml:base</code> attributes, the closest one takes precedence. Consider Listing 17-12. Here the root element sets the base URL to <code>http://www.geocities.com/godsgreenearthsf</code>, and the <code>PRODUCTS</code> element sets the base URL to <code>http://www.seedgrow.com</code>.</p><font face="Arial"><p>Listing 17-12: Multiple xml:base Attributes</p></font><pre>&lt;?xml version="1.0"?&gt;&lt;BUSINESS xmlns:xlink="http://www.w3.org/1999/xlink"         xml:base="http://www.geocities.com/godsgreenearthsf/"&gt;    &lt;NAME&gt;God's Green Earth&lt;/NAME&gt;    &lt;LOGO xlink:type="simple"          xlink:show="embed"          xlink:actuate="onLoad"          xlink:href="/clipart/m/s/appleblossoms.gif" /&gt;    &lt;PRODUCTS xml:base="http://www.seedgrow.com/"&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"               xlink:href="flowers.html"&gt;Flowers&lt;/PRODUCT&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"                xlink:href="seeds.html"&gt;Seeds&lt;/PRODUCT&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"                xlink:href="fertilizer.html"&gt;        Fertilizer      &lt;/PRODUCT&gt;      &lt;PRODUCT xlink:type="simple"                xlink:show="replace"               xlink:actuate="onRequest"                xlink:href="sod.html"&gt;Sod&lt;/PRODUCT&gt;    &lt;/PRODUCTS&gt;&lt;/BUSINESS&gt;</pre><p>When activated, the five XLinks in Listing 17-12 resolve to these five URLs:</p><ul><code><li>http://www.geocities.com/clipart/m/s/appleblossoms.gif</li><li>http://www.seedgrow.com/flowers.htm</li><li>http://www.seedgrow.com/seeds.html</li><li>http://www.seedgrow.com/fertilizer.html</li><li>http://www.seedgrow.com/sod.html</li></code></ul></font><p>On occasion, it might be useful to use relative URLs in <code>xml:base</code> attributes. In this case, that URL is itself relative to the URL of the closest ancestor with an <code>xml:base</code> attribute. If there is no such ancestor, the URL is relative to the actual URL of the document. For example, Listing 17-13 sets the base URL of the root element to <code>http://www.geocities.com/godsgreenearthsf/</code> as before. However, an <code>xml:base</code> attribute on the <code>PRODUCTS</code> element sets the base URL to <code>products</code>. </p><font face="Arial"><p>Listing 17-13: Relative URLs in xml:base Attributes</p></font><pre>&lt;?xml version="1.0"?&gt;&lt;BUSINESS xmlns:xlink="http://www.w3.org/1999/xlink"          xml:base="http://www.geocities.com/godsgreenearthsf/"&gt;   &lt;NAME&gt;God's Green Earth&lt;/NAME&gt;   &lt;LOGO xlink:type="simple"         xlink:show="embed"         xlink:actuate="onLoad"         xlink:href="/clipart/m/s/appleblossoms.gif" /&gt;   &lt;PRODUCTS xml:base="products"&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"              xlink:href="flowers.html"&gt;Flowers&lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="seeds.html"&gt;Seeds&lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="fertilizer.html"&gt;       Fertilizer     &lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="sod.html"&gt;Sod&lt;/PRODUCT&gt;   &lt;/PRODUCTS&gt;&lt;/BUSINESS&gt;</pre><p>When activated, the five XLinks in Listing 17-13 resolve to these five URLs:</p><ul><code><li>http://www.geocities.com/clipart/m/s/appleblossoms.gif</li><li>http://www.geocities.com/godsgreenearthsf/products/flowers.htm</li><li>http://www.geocities.com/godsgreenearthsf/products/seeds.html</li><li>http://www.geocities.com/godsgreenearthsf/products/fertilizer.html</li><li>http://www.geocities.com/godsgreenearthsf/products/sod.html</li></code></ul></font><p>The disadvantage to the element-wide scope of <code>xml:base</code>, as opposed to the document-wide scope of the <code>BASE</code> element in HTML, is that the base URL can never be applied to things outside the root element. Specifically, it does not change the location of a style sheet referenced in an <code>xml-stylesheet</code> processing instruction. For example, consider Listing 17-14. The browser will look for the document <code>business.css</code> in the same directory in which it found the XML document, regardless of what <code>xml:base</code> says.</p><font face="Arial"><p>Listing 17-14: URLs Outside the Root Element</p></font><pre>&lt;?xml version="1.0"?&gt;&lt;?xml-stylesheet type="text/css" href="business.css"?&gt;&lt;BUSINESS xmlns:xlink="http://www.w3.org/1999/xlink"  xml:base="http://www.geocities.com/godsgreenearthsf/"&gt;   &lt;NAME&gt;God's Green Earth&lt;/NAME&gt;   &lt;LOGO xlink:type="simple"         xlink:show="embed"         xlink:actuate="onLoad"         xlink:href="/clipart/m/s/appleblossoms.gif" /&gt;   &lt;PRODUCTS&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"              xlink:href="flowers.html"&gt;Flowers&lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="seeds.html"&gt;Seeds&lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="fertilizer.html"&gt;       Fertilizer     &lt;/PRODUCT&gt;     &lt;PRODUCT xlink:type="simple"               xlink:show="replace"              xlink:actuate="onRequest"               xlink:href="sod.html"&gt;Sod&lt;/PRODUCT&gt;   &lt;/PRODUCTS&gt;&lt;/BUSINESS&gt;</pre><p>Likewise, <code>xml:base</code> has no effect on URIs used inside DTDs and document-type declarations, whether in the internal or external DTD subsets.</p><h2>Summary</h2><p>In this chapter, you learned about XLinks and XML Base. In particular, you learned the following:</p><ul><li>XLinks can do everything HTML links can do and quite a bit more, but they aren&#146;t well supported by current applications.</li><li>XLink elements are all defined by attributes attached to the existing elements in other XML applications.</li><li>XLink attributes of all types are placed in the <code>http://www.w3.org/1999/xlink</code> namespace, normally with the <code>xlink</code> prefix.</li><li>Simple links behave much like HTML links, but they are not restricted to a single <code>&lt;A&gt;</code> tag.</li><li>XLink elements are identified by <code>xlink:type</code> attributes.</li><li>Simple link elements are identified by <code>xlink:type</code> attributes with the value <code>simple</code>.</li><li>Simple link elements have an <code>xlink:href</code> attribute whose value is the URI the link points to.</li><li>Linking elements can describe the resource they&#146;re linking to with <code>xlink:title</code> and <code>xlink:role</code> attributes. The value of the <code>xlink:role</code> attribute must be a URI.</li><li>Linking elements can use the <code>xlink:show</code> attribute to tell the application how the content should be displayed when the link is activated, for example, by opening a new window.</li><li>Linking elements can use the <code>xlink:actuate</code> attribute to tell the application whether the link should be traversed without a specific user request.</li><li>Extended link elements are identified by <code>xlink:type</code> attributes with the value <code>extended</code>.</li><li>Extended links can contain multiple locators, resources, and arcs.</li><li>Local resource elements are identified by <code>xlink:type</code> attributes with the value <code>resource</code>. The resource is the content of the resource element.</li><li>Remote resource locator elements are identified by <code>xlink:type</code> attributes with the value <code>locator</code>.</li><li>A locator element has an <code>xlink:href</code> attribute whose value is the URI of the resource it locates.</li><li>Both resource and locator elements have an <code>xlink:label</code> attribute that contains an XML name token as a label for the resource.</li><li>Arc elements are identified by <code>xlink:type</code> attributes with the value <code>arc</code>.</li><li>Arc elements have <code>xlink:from</code> and <code>xlink:to</code> attributes that identify the resources they connect by their labels.</li><li>Arc elements may have <code>xlink:show</code> and <code>xlink:actuate</code> attributes to determine when and how traversal of the link occurs.</li><li>An out-of-line link is a link that does not contain any local resources.</li><li>A linkbase is a document containing one or more out-of-line, extended link elements.</li><li>A linkbase is found when a document with an extended link whose <code>xlink:arcrole</code> has the value <code>http://www.w3.org/1999/xlink/properties/linkbase</code> is read.</li><li>An <code>xml:base</code> attribute on any element sets the URL against which relative URLs in that element and its descendants are relative.</li></ul><p>In Chapter 18, you learn how you can use XPointers to link not only to remote documents, but also to very specific elements in remote documents.</p> <hr />From XML 1.1 Bible, by <a href="http://www.elharo.com/">Elliotte Rusty Harold</a>. &copy; 2004 byWiley Publishing, Inc.  All rights reserved.  Reproduced here by permissionof the publisher.      <hr />      <div style="text-align: center">                [ <a href="../../index.html">Cafe con Leche</a>          | <a href="../index.html">XML Bible Home Page</a>       | Order  from  <a href="http://www.amazon.com/exec/obidos/ASIN/0764549863/ref=nosim/cafeaulaitA/">amazon.com</a>  |  <a href="http://www.wiley.com/WileyCDA/WileyTitle/productCd-0764549863.html">Publisher Page</a> ]         </div></body></html>