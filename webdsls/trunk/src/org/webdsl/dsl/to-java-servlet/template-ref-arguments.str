module org/webdsl/dsl/to-java-servlet/template-ref-arguments

imports
  libstratego-lib
  libjava-front

imports
  libwebdsl-front

rules

  GenerateCodeJavaServlet = where(not(ThisEmail));ref-arguments-java-servlet-template; fail
  
  ref-arguments-java-servlet-template =
    ?def |[ define mod* x(farg*)  req*  { elem* } ]|
    ; where(
        e* := <filter(?Arg(<!Var(<id>)>,RefSort(_));expression-to-java-servlet)> farg*      	
      )
    ; with(
      <generate-java-servlet-template-partial> 
        java |[ 
            protected Object[] getRefArgumentValues(){
              Object[] refs = {e*};
              return refs; 	
            }
        ]|)
