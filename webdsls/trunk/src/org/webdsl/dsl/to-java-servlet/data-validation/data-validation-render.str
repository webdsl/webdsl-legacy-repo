module org/webdsl/dsl/to-seam/data-validation-render

imports 
  libstrategolib  
  Java-15
  libjava-front 
  
imports 
  libwebdsl-front
  
rules

  elem-to-java-servlet :
    tc@elem|[ validate(e1,e2)[passign*]{} ]| -> bstm* |[
      if(inSubmittedForm && !e3){
        bstm_exptostring*
      }
    ]|
    with  bstm_exptostring* := <to-page-string-java-servlet(|"utils.HTMLFilter.filter")> e2
        ; e3 := <expression-to-java-servlet> e1

rules

  assignment-to-html-attr = ?PreDeriveInputDone()