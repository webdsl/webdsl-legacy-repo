<project name="webdsl-build-eclipse" default="eclipse-build">
  
	<target name="eclipse-build">
		<antcall target="build-without-java-compile"/>
		<property name="servletappdir" value="${currentdir}/.servletapp"/>
		<property name="webcontentdir" value="${currentdir}/WebContent"/>
	    <copy preservelastmodified="true" todir="${webcontentdir}/WEB-INF/lib">
	      <fileset dir="${servletappdir}/bin/WEB-INF/lib"/>
	    </copy>
	    <copy file="${servletappdir}/web.xml" preservelastmodified="true" todir="${webcontentdir}/WEB-INF"/>
	    <copy preservelastmodified="true" todir="${webcontentdir}">
	      <fileset dir="${servletappdir}/html"/>
	    </copy>
	    <copy preservelastmodified="true" todir="${webcontentdir}/images">
	      <fileset dir="${servletappdir}/images"/>
	    </copy>
	    <copy preservelastmodified="true" todir="${webcontentdir}/stylesheets">
	      <fileset dir="${servletappdir}/stylesheets"/>
	    </copy>
	    <copy preservelastmodified="true" todir="${webcontentdir}/javascript">
	      <fileset dir="${servletappdir}/javascript"/>
	    </copy>
	    <copy preservelastmodified="true" todir="${webcontentdir}">
	      <fileset dir="${servletappdir}">
	        <include name="webdsl-reindex"/>
	    	<include name="build.reindex.xml"/>
	    	<include name="build.properties"/>
	    	<include name="html/index.jsp"/>
	    	<include name="html/favicon.ico"/>
	    	<include name="build.properties"/>
	      </fileset>
	    </copy>
		
	    <ant dir="${currentdir}/.servletapp" antfile="${currentdir}/.servletapp/build.xml" target="configure"/>
		<copy overwrite="true" todir="${webcontentdir}/WEB-INF/classes">
          <fileset dir="${servletappdir}/src">
            <include name="hibernate.properties"/>
	     	<include name="email.properties"/>
		   	<include name="log4j.properties"/>
		  </fileset>
        </copy>
	</target> 
	
</project>
