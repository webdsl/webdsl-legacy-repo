%THanks to M. Bravenboer:
\documentclass[10pt, b5paper,twoside,openright]{book}
\usepackage[nohead]{geometry}
\geometry{vmarginratio=2:3,hmarginratio=1:1,papersize={170mm,240mm},total={121mm,196mm}}

\usepackage{loadpackages}
\usepackage{style-tweaks}
\usepackage{color}
\usepackage{xcolor}
\usepackage{listings}
\input{commands.ltx}
%\input{webdsl.ldf}
%\input{webdsl.sty}
\input{webdsl.tex}

%end copied

\usepackage{ifpdf}
\usepackage[utf8]{inputenc}
%\usepackage[UKenglish]{babel}
\usepackage{makeidx}
\makeindex
\frenchspacing

\newcommand{\e}[1]{\emph{#1}}
\newcommand{\ii}[1]{\index{#1}}

\title{WebDSL language reference}
\author{The WebDSL Team}
\date{\today}
\ifpdf
\pdfinfo {
	/Author (The WebDSL Team)
	/Title (WebDSL language reference)
	/Subject (WebDSL)
	/Keywords ()
	/CreationDate (D:20081020135807)
}
\usepackage{graphicx}
\fi

\begin{document}
\frontmatter
\maketitle
\tableofcontents 

\mainmatter
\part{Introduction to WebDSL}
\input{intro/index}

\part{Core Language Reference}
\input{clr/index}

\part{Module Reference}
\input{modules/index}


\backmatter
\appendix
\part{Examples}

\part{A note about Stratego/XT}
\input{stratego/index}

\part{Architecture of the WebDSL compiler}

\part{Debugging guide to WebDSL applications and the compiler}

\part{Index}
\lstlistoflistings
\printindex
\end{document}
